---
layout: page
title: test-runner.sh
description: Automatically runs related tests when files are modified. Supports both Pest and PHPUnit test frameworks
nav_active: Hooks
back_url: /hooks.html
back_text: All Hooks
---

<div class="mb-8">
    <div class="flex items-center gap-3 mb-4">
        <span class="event-badge event-post">PostToolUse</span>
    </div>
    <h1 class="text-3xl font-bold mb-2">test-runner.sh</h1>
    <p class="text-xl text-muted-foreground">Automatically runs related tests when files are modified. Supports both Pest and PHPUnit test frameworks</p>
</div>

<div class="prose prose-neutral dark:prose-invert max-w-none">
    <h2>Checks Performed</h2>
    <div class="space-y-2 not-prose">
        <div class="check-item">
            <svg class="check-icon text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
            <span class="text-sm">Detect related test files</span>
        </div>
        <div class="check-item">
            <svg class="check-icon text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
            <span class="text-sm">Run Pest or PHPUnit</span>
        </div>
        <div class="check-item">
            <svg class="check-icon text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
            <span class="text-sm">Block on test failures</span>
        </div>
    </div>

    <h2>Overview</h2>
    <p>Automatically runs related tests when files are modified. Supports both Pest and PHPUnit test frameworks. This hook runs on the <code>PostToolUse</code> event.</p>

    <h2>Configuration</h2>
    <p>Add this hook to your <code>.claude/settings.json</code>:</p>
    <pre><code class="text-green-400">{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit",
        "command": "bash .claude-plugins/laravel-agent/hooks/scripts/test-runner.sh"
      }
    ]
  }
}</code></pre>
</div>

<style>
    .event-badge { display: inline-flex; padding: 0.25rem 0.625rem; font-size: 0.7rem; font-weight: 600; border-radius: 9999px; }
    .event-submit { background: oklch(0.55 0.18 150); color: white; }
    .event-post { background: oklch(0.55 0.18 250); color: white; }
    .check-item { display: flex; align-items: center; gap: 0.5rem; }
    .check-icon { width: 1rem; height: 1rem; flex-shrink: 0; }
</style>
