<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>
<meta name="description" content="{{ page.description | default: site.description }}">
<meta name="theme-color" content="#18181b" media="(prefers-color-scheme: dark)">
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<!-- Prism.js Syntax Highlighting -->
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/plugins/toolbar/prism-toolbar.min.css" rel="stylesheet">
<script src="https://cdn.tailwindcss.com?plugins=typography"></script>
<script>
    tailwind.config = {
        darkMode: 'class',
        theme: {
            extend: {
                colors: {
                    background: 'var(--background)',
                    foreground: 'var(--foreground)',
                    card: 'var(--card)',
                    'card-foreground': 'var(--card-foreground)',
                    popover: 'var(--popover)',
                    'popover-foreground': 'var(--popover-foreground)',
                    primary: 'var(--primary)',
                    'primary-foreground': 'var(--primary-foreground)',
                    secondary: 'var(--secondary)',
                    'secondary-foreground': 'var(--secondary-foreground)',
                    muted: 'var(--muted)',
                    'muted-foreground': 'var(--muted-foreground)',
                    accent: 'var(--accent)',
                    'accent-foreground': 'var(--accent-foreground)',
                    destructive: 'var(--destructive)',
                    border: 'var(--border)',
                    input: 'var(--input)',
                    ring: 'var(--ring)',
                    sidebar: 'var(--sidebar)',
                    'sidebar-foreground': 'var(--sidebar-foreground)',
                    'sidebar-primary': 'var(--sidebar-primary)',
                    'sidebar-primary-foreground': 'var(--sidebar-primary-foreground)',
                    'sidebar-accent': 'var(--sidebar-accent)',
                    'sidebar-accent-foreground': 'var(--sidebar-accent-foreground)',
                    'sidebar-border': 'var(--sidebar-border)',
                    'sidebar-ring': 'var(--sidebar-ring)',
                    chart: {
                        1: 'var(--chart-1)',
                        2: 'var(--chart-2)',
                        3: 'var(--chart-3)',
                        4: 'var(--chart-4)',
                        5: 'var(--chart-5)',
                    }
                },
                borderRadius: { DEFAULT: 'var(--radius)' }
            }
        }
    }
</script>
<style>
    :root {
        --radius: 0.625rem;
        --background: oklch(1 0 0);
        --foreground: oklch(0.145 0 0);
        --card: oklch(1 0 0);
        --card-foreground: oklch(0.145 0 0);
        --popover: oklch(1 0 0);
        --popover-foreground: oklch(0.145 0 0);
        --primary: oklch(0.205 0 0);
        --primary-foreground: oklch(0.985 0 0);
        --secondary: oklch(0.97 0 0);
        --secondary-foreground: oklch(0.205 0 0);
        --muted: oklch(0.97 0 0);
        --muted-foreground: oklch(0.556 0 0);
        --accent: oklch(0.97 0 0);
        --accent-foreground: oklch(0.205 0 0);
        --destructive: oklch(0.577 0.245 27.325);
        --border: oklch(0.922 0 0);
        --input: oklch(0.922 0 0);
        --ring: oklch(0.708 0 0);
        --chart-1: oklch(0.646 0.222 41.116);
        --chart-2: oklch(0.6 0.118 184.704);
        --chart-3: oklch(0.398 0.07 227.392);
        --chart-4: oklch(0.828 0.189 84.429);
        --chart-5: oklch(0.769 0.188 70.08);
        --sidebar: oklch(0.985 0 0);
        --sidebar-foreground: oklch(0.145 0 0);
        --sidebar-primary: oklch(0.205 0 0);
        --sidebar-primary-foreground: oklch(0.985 0 0);
        --sidebar-accent: oklch(0.97 0 0);
        --sidebar-accent-foreground: oklch(0.205 0 0);
        --sidebar-border: oklch(0.922 0 0);
        --sidebar-ring: oklch(0.708 0 0);
    }

    .dark {
        --background: oklch(0.145 0 0);
        --foreground: oklch(0.985 0 0);
        --card: oklch(0.205 0 0);
        --card-foreground: oklch(0.985 0 0);
        --popover: oklch(0.205 0 0);
        --popover-foreground: oklch(0.985 0 0);
        --primary: oklch(0.922 0 0);
        --primary-foreground: oklch(0.205 0 0);
        --secondary: oklch(0.269 0 0);
        --secondary-foreground: oklch(0.985 0 0);
        --muted: oklch(0.269 0 0);
        --muted-foreground: oklch(0.708 0 0);
        --accent: oklch(0.269 0 0);
        --accent-foreground: oklch(0.985 0 0);
        --destructive: oklch(0.704 0.191 22.216);
        --border: oklch(1 0 0 / 10%);
        --input: oklch(1 0 0 / 15%);
        --ring: oklch(0.556 0 0);
        --chart-1: oklch(0.488 0.243 264.376);
        --chart-2: oklch(0.696 0.17 162.48);
        --chart-3: oklch(0.769 0.188 70.08);
        --chart-4: oklch(0.627 0.265 303.9);
        --chart-5: oklch(0.645 0.246 16.439);
        --sidebar: oklch(0.205 0 0);
        --sidebar-foreground: oklch(0.985 0 0);
        --sidebar-primary: oklch(0.488 0.243 264.376);
        --sidebar-primary-foreground: oklch(0.985 0 0);
        --sidebar-accent: oklch(0.269 0 0);
        --sidebar-accent-foreground: oklch(0.985 0 0);
        --sidebar-border: oklch(1 0 0 / 10%);
        --sidebar-ring: oklch(0.556 0 0);
    }

    /* Typography & Code Blocks */
    pre[class*="language-"] {
        background: oklch(0.13 0 0) !important;
        border: 1px solid var(--border);
        border-radius: var(--radius);
        overflow-x: auto;
        padding: 1rem;
        margin: 1rem 0;
        position: relative;
    }
    pre[class*="language-"]::-webkit-scrollbar { height: 6px; }
    pre[class*="language-"]::-webkit-scrollbar-track { background: transparent; }
    pre[class*="language-"]::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
    code[class*="language-"] { font-size: 0.875rem; text-shadow: none !important; }
    code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; }
    code:not(pre code) { background: var(--muted); padding: 0.125rem 0.375rem; border-radius: 0.25rem; font-size: 0.875em; }
    /* Prism toolbar (copy button) */
    div.code-toolbar > .toolbar { opacity: 0; transition: opacity 0.2s; }
    div.code-toolbar:hover > .toolbar { opacity: 1; }
    div.code-toolbar > .toolbar > .toolbar-item > button {
        background: var(--muted) !important;
        color: var(--foreground) !important;
        border-radius: 0.25rem !important;
        padding: 0.25rem 0.5rem !important;
        font-size: 0.75rem !important;
        box-shadow: none !important;
        border: 1px solid var(--border) !important;
    }
    div.code-toolbar > .toolbar > .toolbar-item > button:hover {
        background: var(--accent) !important;
    }

    /* Focus styles for accessibility */
    a:focus-visible, button:focus-visible {
        outline: 2px solid var(--ring);
        outline-offset: 2px;
    }

    /* Smooth theme transition */
    html.transitioning * {
        transition: background-color 0.3s ease, border-color 0.3s ease !important;
    }

    /* Sidebar */
    .sidebar-link { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0.75rem; border-radius: var(--radius); color: var(--sidebar-foreground); transition: all 0.15s; }
    .sidebar-link:hover { background: var(--sidebar-accent); }
    .sidebar-link.active { background: var(--sidebar-accent); font-weight: 500; }

    /* Card hover effect */
    .card-hover { transition: all 0.2s; }
    .card-hover:hover { transform: translateY(-2px); box-shadow: 0 8px 25px -5px rgba(0,0,0,0.1); }

    /* Badges */
    .badge { display: inline-flex; align-items: center; padding: 0.25rem 0.625rem; font-size: 0.75rem; font-weight: 500; border-radius: 9999px; }
    .badge-core { background: var(--chart-1); color: white; }
    .badge-builder { background: oklch(0.6 0.15 150); color: white; }
    .badge-api { background: var(--chart-2); color: white; }
    .badge-testing { background: oklch(0.55 0.18 290); color: white; }
    .badge-database { background: var(--chart-4); color: white; }
    .badge-frontend { background: var(--chart-4); color: oklch(0.2 0 0); }
    .badge-security { background: var(--destructive); color: white; }
    .badge-devops { background: var(--chart-1); color: white; }
    .badge-ai { background: var(--chart-2); color: white; }
    .badge-data { background: var(--chart-3); color: white; }
    .badge-review { background: oklch(0.55 0.18 180); color: white; }
    .badge-backend { background: oklch(0.5 0.15 150); color: white; }
    .badge-quality { background: oklch(0.55 0.18 180); color: white; }

    /* Category badges */
    .category-badge { display: inline-flex; padding: 0.25rem 0.625rem; font-size: 0.7rem; font-weight: 600; border-radius: 9999px; }
    .cat-core { background: var(--chart-1); color: white; }
    .cat-builder { background: oklch(0.6 0.15 150); color: white; }
    .cat-frontend { background: var(--chart-4); color: oklch(0.2 0 0); }
    .cat-backend { background: oklch(0.5 0.15 150); color: white; }
    .cat-devops { background: var(--chart-1); color: white; }
    .cat-quality { background: oklch(0.55 0.18 180); color: white; }

    /* Trigger tags */
    .trigger-tag { display: inline-flex; padding: 0.25rem 0.625rem; font-size: 0.75rem; border-radius: 0.25rem; background: var(--accent); color: var(--accent-foreground); margin: 0.125rem; }

    /* Event badges */
    .event-badge { display: inline-flex; padding: 0.25rem 0.5rem; font-size: 0.7rem; font-weight: 600; border-radius: 0.25rem; }
    .event-submit { background: var(--chart-2); color: white; }
    .event-post { background: oklch(0.6 0.15 150); color: white; }

    /* Check items */
    .check-item { display: flex; align-items: flex-start; gap: 0.5rem; padding: 0.5rem 0; }
    .check-icon { width: 1.25rem; height: 1.25rem; flex-shrink: 0; margin-top: 0.125rem; }

    /* Skill icons */
    .skill-icon { width: 48px; height: 48px; border-radius: var(--radius); display: flex; align-items: center; justify-content: center; flex-shrink: 0; }

    /* Hook cards */
    .hook-card { transition: all 0.2s; }
    .hook-card:hover { border-color: var(--primary); }

    /* Card animations */
    .card-animate {
        transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
    }
    .card-animate:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 40px -10px rgba(0,0,0,0.15);
    }
    .dark .card-animate:hover {
        box-shadow: 0 10px 40px -10px rgba(0,0,0,0.4);
    }

    /* Staggered card entrance animation */
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    .animate-in {
        animation: fadeInUp 0.3s ease-out forwards;
    }

    /* Empty state styling */
    .empty-state {
        padding: 4rem 2rem;
        text-align: center;
        background: var(--muted);
        border-radius: var(--radius);
        border: 2px dashed var(--border);
    }

    /* Loading skeleton */
    @keyframes shimmer {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
    }
    .skeleton {
        background: linear-gradient(90deg, var(--muted) 25%, var(--accent) 50%, var(--muted) 75%);
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
        border-radius: var(--radius);
    }

    /* Improved scrollbar for all scrollable areas */
    ::-webkit-scrollbar { width: 8px; height: 8px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--border); border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: var(--muted-foreground); }

    /* Mobile menu improvements */
    @media (max-width: 1023px) {
        .mobile-menu-open {
            overflow: hidden;
        }
    }

    /* Better button press feedback */
    button:active:not(:disabled), a:active:not(:disabled) {
        transform: scale(0.98);
    }

    /* Line clamp utility */
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* Print styles */
    @media print {
        .sidebar, .search-modal, button { display: none !important; }
        main { margin-left: 0 !important; }
    }
</style>
